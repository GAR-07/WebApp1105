<article class="container my-5">
    <h3 *ngIf="user">Добро пожаловать, {{ user.userName }}!</h3>
    <p>Какие изображения или видео загрузим сегодня?</p>
  <section class="uploadFile" *ngIf="user.userName">
    <div class="row">
        <div class="col-lg-6">
            <form>
                <div class="mb-3">
                    <label for="title">Название</label>
                    <input type="text" class="form-control" id="title" name="title" 
                        placeholder="Введите название" [(ngModel)]="title">
                </div>
                <div class="mb-3">
                    <label for="description">Описание</label>
                    <input type="text" class="form-control" id="description" name="description" 
                        placeholder="Введите описание" [(ngModel)]="description">
                </div>
                <div class="row" style="margin-bottom:15px;">
                    <p>Советуем загружать файлы не более 100MB</p>
                    <div class="col-lg-6">
                        <input type="file" accept=".png, .jpg, .bmp, .mp4" #file placeholder="Выбрать файл" 
                            (change)="uploadFile(file.files)" style="display:none;">
                    <!-- добавить multiple в imput для включения загрузки сразу нескольких файлов (сейчас не работает) -->
                        <button type="button" class="btn btn-lg btn-primary" (click)="file.click()">Выбрать файл</button>
                    </div>
                    <div class="col-lg-6">
                        <span *ngIf="(progress > 0 && !message)">
                            {{progress}}%
                        </span>
                        <span *ngIf="message">
                            {{message}}
                        </span>
                    </div>
                </div>
                <button type="button" class="w-100 btn btn-lg btn-primary mb-3" (click)="onCreate()">Сохранить</button>
            </form>
        </div>
        <div class="col" *ngIf="response.dbPath">
          <img *ngIf="response.contentType[0] == 'image'" [src]="createImgPath(response.dbPath)" style="width:300px; height:300px;">
          <video *ngIf="response.contentType[0] == 'video'" width="300" height="300" controls="controls">
            <source [src]="createImgPath(response.dbPath)" type='video/ogg; codecs="theora, vorbis"'>
            <source [src]="createImgPath(response.dbPath)" type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"'>
            <source [src]="createImgPath(response.dbPath)" type='video/webm; codecs="vp8, vorbis"'>
            Тег video не поддерживается вашим браузером. 
            <a (click)="goToLink(response.dbPath)">Скачайте видео</a>.
           </video>
        </div>
    </div>
  </section>
</article>